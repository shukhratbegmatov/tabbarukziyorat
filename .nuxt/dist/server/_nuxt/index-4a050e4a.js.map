{"version":3,"file":"index-4a050e4a.js","sources":["../../../../composables/useUpdateRouteQuery.ts","../../../../components/Common/Pagination.vue","../../../../pages/news/index.vue"],"sourcesContent":["export default function useUpdateRouteQuery(\n  key: string,\n  value: string | number\n) {\n  const router = useRouter()\n  const routeQuery = { ...router.currentRoute.value.query }\n  if (!value) {\n    delete routeQuery[key]\n  } else {\n    routeQuery[key] = value\n  }\n\n  router.replace({ query: routeQuery })\n\n  function clearRouteQuery(params?: string[]) {\n    if (params?.length) {\n      for (const i in params) {\n        delete routeQuery[params[i]]\n      }\n      router.replace({ query: routeQuery })\n    } else {\n      router.replace({ query: {} })\n    }\n  }\n\n  return { clearRouteQuery }\n}\n","<template>\n  <VueAwesomePaginate\n    v-if=\"total > perPage\"\n    v-model=\"currentPage\"\n    active-page-class=\"btn-active\"\n    disabled-back-button-class=\"dd\"\n    :total-items=\"total\"\n    :items-per-page=\"perPage\"\n    :max-pages-shown=\"maxPageShow\"\n    :back-button-class=\"`${currentPage === 1 ? 'disable' : ''} back-button`\"\n    :next-button-class=\"`${\n      currentPage === Math.ceil(total / perPage) ? 'disable' : ''\n    } next-button`\"\n    @click=\"onClickHandler\"\n  >\n    <template #prev-button>\n      <svg\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M12.5 5L7.5 10L12.5 15\"\n          stroke=\"#969696\"\n          stroke-width=\"1.8\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        />\n      </svg>\n    </template>\n    <template #next-button>\n      <svg\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M7.5 5L12.5 10L7.5 15\"\n          stroke=\"#969696\"\n          stroke-width=\"1.8\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        />\n      </svg>\n    </template>\n  </VueAwesomePaginate>\n</template>\n<script setup lang=\"ts\">\nimport { VueAwesomePaginate } from 'vue-awesome-paginate'\n\ninterface Props {\n  total?: number\n  perPage?: number\n  maxPageShow?: number\n}\nconst route = useRoute()\n\nwithDefaults(defineProps<Props>(), {\n  total: 24,\n  perPage: 12,\n  maxPageShow: 3,\n})\nconst emit = defineEmits(['handle-page'])\n\nfunction onClickHandler(page: number) {\n  useUpdateRouteQuery('page', page)\n  setTimeout(() => {\n    emit('handle-page', page)\n  }, 0)\n}\nconst currentPage = ref(+route.query?.page || 1)\n</script>\n<style>\n.pagination-container {\n  display: flex;\n  column-gap: 4px;\n}\n\n.paginate-buttons {\n  height: 32px;\n  width: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 130%;\n  color: #ffffff;\n  transition: all 0.3s ease-in-out;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  background: #202233;\n}\n\n.paginate-buttons:hover {\n  background: #0e1020;\n}\n\n.btn-active,\n.btn-active:hover {\n  background: #e64545;\n}\n\n.back-button.disable,\n.next-button.disable {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n/*.back-button,*/\n/*.next-button {*/\n/*  background-color: #f8f9fa;*/\n/*}*/\n</style>\n","<template>\n  <div class=\"min-h-[calc(100vh-239px)]\">\n    <div class=\"pt-20 md:pt-[120px]\">\n      <CommonBreadcrumb v-bind=\"{ menu }\" class=\"container px-0\" />\n      <div class=\"container pt-5 md:pt-9 pb-5 md:pb-8\">\n        <h1\n          class=\"font-bold leading-130 text-3xl md:text-40 text-white mb-3 md:mb-6 font-playfair\"\n        >\n          {{ $t('news') }}\n        </h1>\n        <Transition name=\"fade\" mode=\"out-in\">\n          <div\n            :key=\"loading\"\n            class=\"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 sm:gap-6\"\n          >\n            <CardNews\n              v-for=\"(item, i) in loading ? 12 : newsList\"\n              :key=\"i\"\n              :item=\"loading ? undefined : item\"\n              v-bind=\"{ loading }\"\n            />\n          </div>\n        </Transition>\n        <CommonPagination\n          v-if=\"!loading\"\n          class=\"justify-end mt-8\"\n          :per-page=\"12\"\n          v-bind=\"{ total }\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from 'vue-i18n'\n\nimport { useNewsStore } from '~/store/news'\n\nconst route = useRoute()\nconst newsStore = useNewsStore()\nconst { t } = useI18n()\n\nconst offset = computed(() => {\n  const page = Number(route.query.page) || 1\n  return (page - 1) * 12\n})\n\nconst loading = computed(() => newsStore.newsLoading)\nconst newsList = computed(() => newsStore.newsList)\nconst total = computed(() => newsStore.newsCount)\n\nconst fetchNews = () => {\n  newsStore.fetchNewsList(offset.value)\n}\n\nwatch(\n  () => route.query.page,\n  () => {\n    fetchNews()\n  },\n  { immediate: true }\n)\n\nuseSeoMeta({\n  title: t('news'),\n})\n\nconst menu = [\n  {\n    title: 'News',\n    link: '/news',\n  },\n]\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAA,oBAAA,KAAA,OAAA;AAIE,QAAA,SAAA;AACA,QAAA,aAAA,EAAA,GAAA,OAAA,aAAA,MAAA;AACA,MAAA,CAAA,OAAA;AACE,WAAA,WAAA,GAAA;AAAA,EAAqB,OAAA;AAErB,eAAA,GAAA,IAAA;AAAA,EAAkB;AAGpB,SAAA,QAAA,EAAA,OAAA,WAAA,CAAA;AAEA,WAAA,gBAAA,QAAA;AACE,QAAA,iCAAA,QAAA;AACE,iBAAA,KAAA,QAAA;AACE,eAAA,WAAA,OAAA,CAAA,CAAA;AAAA,MAA2B;AAE7B,aAAA,QAAA,EAAA,OAAA,WAAA,CAAA;AAAA,IAAoC,OAAA;AAEpC,aAAA,QAAA,EAAA,OAAA,CAAA,EAAA,CAAA;AAAA,IAA4B;AAAA,EAC9B;AAGF,SAAA,EAAA,gBAAA;AACF;;;;;;;;;;;;ACiCA,UAAA,QAAA;AAOA,UAAA,OAAA;AAEA,aAAA,eAAA,MAAA;AACE,0BAAA,QAAA,IAAA;AACA,iBAAA,MAAA;AACE,aAAA,eAAA,IAAA;AAAA,MAAwB,GAAA,CAAA;AAAA,IACtB;AAEN,UAAA,cAAA,IAAA,GAAA,WAAA,UAAA,mBAAA,SAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCA,UAAA,QAAA;AACA,UAAA,YAAA;AACA,UAAA,EAAA,MAAA;AAEA,UAAA,SAAA,SAAA,MAAA;AACE,YAAA,OAAA,OAAA,MAAA,MAAA,IAAA,KAAA;AACA,cAAA,OAAA,KAAA;AAAA,IAAoB,CAAA;AAGtB,UAAA,UAAA,SAAA,MAAA,UAAA,WAAA;AACA,UAAA,WAAA,SAAA,MAAA,UAAA,QAAA;AACA,UAAA,QAAA,SAAA,MAAA,UAAA,SAAA;AAEA,UAAA,YAAA,MAAA;AACE,gBAAA,cAAA,OAAA,KAAA;AAAA,IAAoC;AAGtC;AAAA,MAAA,MAAA,MAAA,MAAA;AAAA,MACoB,MAAA;AAEhB;MAAU;AAAA,MACZ,EAAA,WAAA,KAAA;AAAA,IACkB;AAGpB,eAAA;AAAA,MAAW,OAAA,EAAA,MAAA;AAAA,IACM,CAAA;AAGjB,UAAA,OAAA;AAAA,MAAa;AAAA,QACX,OAAA;AAAA,QACS,MAAA;AAAA,MACD;AAAA,IACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}