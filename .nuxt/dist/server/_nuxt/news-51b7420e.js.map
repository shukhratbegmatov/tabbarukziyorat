{"version":3,"file":"news-51b7420e.js","sources":["../../../../store/news.ts"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { $api } from '~/composables/useFetcher'\nimport { TCommonFetcher } from '~/types/common'\nimport { TNews } from '~/types/news'\n\nexport const useNewsStore = defineStore('newsStre', {\n  state: () => ({\n    newsList: [] as TNews[],\n    newsLoading: false,\n    newsCount: 0,\n  }),\n  actions: {\n    fetchNewsList(offset: number = 0, limit: number = 12) {\n      this.newsLoading = true\n      return new Promise((resolve, reject) => {\n        $api\n          .$get<TCommonFetcher<TNews>>('/news/NewsList', {\n            params: { offset, limit: limit },\n          })\n          .then((response) => {\n            this.newsCount = response.count\n            this.newsList = response.results\n            resolve(response)\n          })\n          .catch((error) => {\n            reject(error)\n          })\n          .finally(() => {\n            this.newsLoading = false\n          })\n      })\n    },\n  },\n  getters: {},\n})\n"],"names":[],"mappings":";;AAKa,MAAA,eAAe,YAAY,YAAY;AAAA,EAClD,OAAO,OAAO;AAAA,IACZ,UAAU,CAAC;AAAA,IACX,aAAa;AAAA,IACb,WAAW;AAAA,EAAA;AAAA,EAEb,SAAS;AAAA,IACP,cAAc,SAAiB,GAAG,QAAgB,IAAI;AACpD,WAAK,cAAc;AACnB,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,aACG,KAA4B,kBAAkB;AAAA,UAC7C,QAAQ,EAAE,QAAQ,MAAa;AAAA,QAAA,CAChC,EACA,KAAK,CAAC,aAAa;AAClB,eAAK,YAAY,SAAS;AAC1B,eAAK,WAAW,SAAS;AACzB,kBAAQ,QAAQ;AAAA,QAAA,CACjB,EACA,MAAM,CAAC,UAAU;AAChB,iBAAO,KAAK;AAAA,QAAA,CACb,EACA,QAAQ,MAAM;AACb,eAAK,cAAc;AAAA,QAAA,CACpB;AAAA,MAAA,CACJ;AAAA,IACH;AAAA,EACF;AAAA,EACA,SAAS,CAAC;AACZ,CAAC;"}